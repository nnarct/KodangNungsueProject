<!DOCTYPE html>
<html>
<title>KodangProfile</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="profile-test.css">
<link rel="stylesheet" href="seller.css">
<link rel="stylesheet" href="popup.css">
<link rel="shortcut icon" href="src/logo/logonobgn.png" />
<!------------------------------------------------พวกสัญลักษณ์----------------------------->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://fonts.googleapis.com/css2?family=Itim&display=swap" rel="stylesheet">

 <!-- Materials for firebase script-->
 <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
 <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
 <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
 <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
 <!-- Sweet Alert script-->
 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<body>
    <div id="main">
        <!----------------------------------------เมนูบน------------------------------------------->
        <div class="top">
            <div class="navi">
                <span>
                    <a href="../index.html"><img id="logo" src="src/logo/logona.png" /></a></span>
                <ul class="menu">
                    <li><a href="../index.html"style="width: 75px;">หน้าหลัก</a></li>
                    <li><a href="../inform-customer/how-to-order.html" style="width: 145px;">วิธีการสั่งซื้อสินค้า</a></li>
                    <li><a href="../inform-customer/contact-us.html" style="width: 90px;">ติดต่อเรา</a></li>
                    <li><a href="../inform-customer/payment-report.html" style="width: 105px;">แจ้งชำระเงิน</a></li>
                </ul>
                <div class="rmenu" align="right">
                    <a href="#"><img src="src/icon/cart.png" id="iconc">
                       <span class="num">0</span></a>
                    
                    <!-- popup to logout -->
                    <img src="src/icon/peo.png" id="iconp" style="cursor: pointer;">            
                </div>
            </div>
        </div>  
        <div id="logoutshow" class="logout">
            <div id="logoutpop" class="logoutpopcl">
                <a href="profile.html" style="text-decoration: none; color: black;"><div class="textbox tbProfile" style="border-bottom: 1px solid lightgrey;">ข้อมูลของฉัน</div></a>
                <div class="textbox tbLogout">ออกจากระบบ</div>
            </div>
        </div>
       
    </div id="main">      
        <br>
        <div class="contents">
            <!-- menu for user to choose content display-->
            <div class="navLeft">
                <div class="head">
                    <div class="smallProfilePic"><img src="../src/testprod/p5.jpg"></div>
                    <div class="name">นันต์ณพัชร อินทรสิงห์</div>
                </div>
                <h1>บัญชีของฉัน</h1>
                <h2 id="myinfo" >ข้อมูลของฉัน <span class="colored">❯</span></h2> 
                <h2 id="changePassword" >เปลี่ยนรหัสผ่าน <span class="colored">❯</span></h2><br>
                <h1>การซื้อของฉัน</h1>
                <h2 id="orderHistory" >ประวัติการซื้อ <span class="colored">❯</span></h2> 
                <h2 id="unpaid" >ที่ต้องชำระ <span class="colored">❯</span></h2>
                <h2 id="orderStatus" > สถานะสินค้า <span class="colored">❯</span></h2><br>
                <h1 id="selling">เริ่มการขาย <span class="colored">❯</span></h1>  <!-- will show only non-seller user -->
                <h1 id="seller">ร้านของฉัน <span class="colored">❯</span></h1>  <!-- will show only seller user-->
            </div>
            <!----------------------------------->

            <div class="navRight">

                <!-- ข้อมูลของฉัน -->
                <div id="popup1">
                    <div class="topicName">ข้อมูลของฉัน</div> <div class="sepLine"></div>
                    <div class="article">
                        <div class="infoZone">
                            <div class="both">
                                <div class="one">
                                    <p>ชื่อ</p>
                                    <p>นามสกุล</p>
                                    <p>อีเมล</p>
                                    <p>เบอร์โทรศัพท์</p>
                                    <p id="displayAddress">ที่อยู่</p>
                                </div>
                                <div class="two" id="display"> <!-- ข้อมูลลูกค้าที่ต้องดึงจาก firebase มาแสดง-->
                                    <p>สมหวัง</p>
                                    <p>ถังสี</p>
                                    <p>Somwang@gmail.com</p>
                                    <p>099-999-9999</p>
                                    <p >99/9 ม.9 ต.แปรงทาสี จ.บ้านสมหวัง</p>
                                </div>
                                <div class="two three" id="displayInput"> <!-- input fields สำหรับ user ที่ต้องกการแก้ไขข้อมูล-->
                                    <input type="text" >
                                    <input type="text" >
                                    <input type="email" >
                                    <input type="tel" >
                                    <textarea type="text" ></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="pictureZone">
                            <div class="pictureFrame" id="proPic">
                                <img src="../src/testprod/p5.jpg"> <!-- รูปโปรไฟล์ปัจจุบันของ user-->
                            </div>
                            <div class="preview" id="preview"> 
                                <div class="wrap">
                                    <div class="imgPre">
                                        <img id="imgna" alt="">
                                    </div>
                                    <div class="inside">
                                        <div class="textin">No file chosen -_-</div>
                                    </div>
                                    <div id="cancelimg">&times;</div>
                                    <div class="file-name"></div>
                                </div>
                                <input id="de-btn" type="file" accept="image/*" hidden>
                                <button onclick="deBtnActive()" id="custom-btn" align="center">Choose a file ^_^</button>
                            </div>
                            
                        </div>
                    </div>
                    <div class="buttonZone">
                        <div class="toEdit-btn" id="toEdit-btn"> แก้ไขข้อมูล </div>
                        <div class="editing" id="editing">
                            <div class="goBack" id="goBack"> ย้อนกลับ </div>
                            <div class="ConfirmEdit"> ยืนยัน </div>
                        </div>

                        <script>
                            // user กดปุ่มแก้ไขข้อมูล
                            document.getElementById("toEdit-btn").onclick = function () {
                                document.getElementById("toEdit-btn").style.display = "none";
                                document.getElementById("editing").style.display = "flex";
                                document.getElementById("preview").style.display = "flex";
                                document.getElementById("proPic").style.display = "none";
                                document.getElementById("displayInput").style.display = "flex";
                                document.getElementById("display").style.display = "none";
                            }
                            // user กดปุ่มย้อนกลับ
                            document.getElementById("goBack").onclick = function () {
                                document.getElementById("displayInput").style.display = "none";
                                document.getElementById("display").style.display = "flex";
                                document.getElementById("preview").style.display = "none";
                                document.getElementById("proPic").style.display = "block";
                                document.getElementById("toEdit-btn").style.display = "block";
                                document.getElementById("editing").style.display = "none";
                            }
                        </script>

                    </div>
                </div>

                <!-- เปลี่ยนรหัสผ่าน -->
                <div id="popup2">
                    <div class="topicName">เปลี่ยนรหัสผ่าน</div> <div class="sepLine"></div>
                    <div class="article" style="justify-content: center">
                        <p style="font-size: 1.5em; padding: 50px 0px 20px 0px;">โปรดป้อนอีเมลของคุณเพื่อรับลิงค์สำหรับการเปลี่ยนรหัสผ่าน</p>
                    </div>
                    <div class="article" style="justify-content: center;">
                        <input type="email" id="email" placeholder="example@mail.com" style=" width: 60%; padding: 5px; font-family: Itim; font-size: 1.2em; " required autofocus>
                    </div>
                    <div class="article" style="justify-content: center; padding: 15px;">
                        <button type="button" style="color: white; padding: 5px; " class="ConfirmButtonStyle"  id="btn-confirm">ยืนยัน</button>
                    </div>
                    <div class="article" style="justify-content: center;">
                     <!-- Link to external website -->
                        <div id="show-hide" style="display: none">
                            <div align="center" class="external" id="externalna">
                                <a href="https://www.yahoo.com/" target="_blank">
                                    <!-- link to yaHoo -->
                                    <img class="extIMG" src="https://static.cdnlogo.com/logos/y/82/yahoo.svg">
                                </a>
                                <a href="https://www.gmail.com/" target="_blank">
                                    <!-- link to gmail -->
                                    <img class="extIMG"
                                        src="https://www.jing.fm/clipimg/full/136-1361267_gmail-calendar-docs-sheets-slide-drawing-maps-gmail.png">
                                </a>
                                <a href="https://www.outlook.com/" target="_blank">
                                    <!-- link to outlook -->
                                    <img class="extIMG"
                                        src="https://www.freepnglogos.com/uploads/logo-outlook-png/outlook-integrations-perforce-18.png">
                                </a>
                            </div>
                        </div>
                    </div>
                    <script src="../auth/forgot_password/forgetPassword.js"></script>       
                </div>

                <!-- ประวัติการซื้อ -->
                <div id="popup3">
                    <div class="topicName">ประวัติการซื้อของฉัน</div> <div class="sepLine"></div>
                    <div class="allaga">
                        <div class="modal-content">
                            <a href="#.html" style="text-decoration: none;">
                                <div class="rowna">
                                    <div class="col-2" style="width: 30%;" align="right">
                                        <div class="prodaga">
                                            <img src="src/testprod/p1.jpg" class="proaga">
                                        </div>
                                    </div>
                                    <div class="col-2" style="width: 60%; margin-right: 10%;">
                                        <div class="nameaga" align="left">
                                            ONE PIECE 500 QUIZ BOOK
                                        </div>
                                        <div class="namesaga" align="left">
                                            มังกี้ ดี ท็อฟฟี่
                                        </div>
                                        <div class="rd" align="right">
                                            <p>x1</p>
                                            <h1>฿200</h1>
                                            <h3>รวมการสั่งซื้อ: ฿230</h3>
                                            <a href="#1.html">
                                                <input type="button" id="agabtnna" class="pos gbtn"
                                                    value="ซื้ออีกครั้ง">
                                            </a>
                                        </div>
                                    </div>
                                    <hr style="border:2px solid #f1f1f1; width: 100%;">
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- ที่ต้องชำระ -->
                <div id="popup4">
                    <div class="topicName">ที่ต้องชำระ</div> <div class="sepLine"></div>
                </div>

                <!-- สถานะสินค้า -->
                <div id="popup5">
                    <div class="topicName">สถานะสินค้า</div> <div class="sepLine"></div>
                </div>

                <!-- เริ่มการขาย สำหรับ user ที่ยังไม่ได้เป็น seller -->
                <div id="popup6" >

                     <!-- เริ่มการขาย สำหรับ user ที่ยังไม่ได้เป็น seller -->
                    <div id="" style="display: none;">
                        <div class="topicName">เริ่มการขาย</div> <div class="sepLine"></div>
                    </div>

                    <!-- ร้านของฉัน สำหรับ usser ที่เป็น seller แล้ว-->
                    <div id="" >
                        <div class="seller-menu">
                            <button class="branch" id="sellerInfo" style="border-radius: 20px 0px 0px 0px;">ข้อมูลร้าน</button>
                            <button class="branch" id="sellerStorage">คลังสินค้า</button> 
                            <button class="branch" id="ship">ที่ต้องจัดส่ง</button>
                            <button class="branch" id="addProduct" style="border-radius: 0px 20px 0px 0px;">ลงขายสินค้า</button>
                        </div>
                        <div class="dataDisplay">

                            
                        </div>
                        
                     </div>

                </div>
                

            </div>
        </div>
        <!--------------------------logout  ------------------------------------------------------------->
        <script>
            document.getElementById("iconp").onclick = function () {
                document.getElementById("logoutshow").style.display = "block";
            }
            // document.getElementById("backprofile").onclick = function () {
            //     document.getElementById("logoutshow").style.display = "none";
            // }
            document.addEventListener('mouseup', function(e) {
                let container = document.getElementById('logoutshow');
                if (!container.contains(e.target)) {
                    container.style.display = 'none';
                }
            });
        </script>
        <!------------------------------------------------------------------------------------------->

             
        
            
            <!------------------------information------------------------------------------------------------------>
            <script src="popup-toggle.js">
                
            </script>
            
            <!------------------------Preview------------------------------------------------------------------>
            <script>
                const defaultBtn = document.querySelector("#de-btn");
                const cancelBtn = document.querySelector("#cancelimg");
                const wrapper = document.querySelector(".wrap");
                const filename = document.querySelector(".file-name");
                const customBtn = document.querySelector("#custom-btn");
                let regExp = /[0-9a-zA-Z\^\&\'\@\{\}\[\]\,\$\=\!\-\#\(\)\.\%\+\~\_ ]+$/;
                function deBtnActive() {
                    defaultBtn.click();
                }
                defaultBtn.addEventListener("change", function () {
                    if (defaultBtn.files && defaultBtn.files[0]) {
                        const reader = new FileReader();
                        reader.onload = function (e) {
                            document.getElementById('imgna').style.visibility = "visible";
                            document.getElementById('imgna').src = e.target.result;
                            wrapper.classList.add("active");
                        }
                        cancelBtn.addEventListener("click", function () {
                            document.getElementById('imgna').style.visibility = "hidden";
                            wrapper.classList.remove("active");
                        });
                        reader.readAsDataURL(defaultBtn.files[0]);
                    }
                    if (this.value) {
                        let valueStore = this.value.match(regExp);
                        filename.textContent = valueStore;
                    }
                });
            </script>

            <script>
                const defaultBtn = document.querySelector("#de-btn");
                const cancelBtn = document.querySelector("#cancelimg");
                const wrapper = document.querySelector(".wrap");
                const filename = document.querySelector(".file-name");
                const customBtn = document.querySelector("#custom-btn");
                let regExp = /[0-9a-zA-Z\^\&\'\@\{\}\[\]\,\$\=\!\-\#\(\)\.\%\+\~\_ ]+$/;
                function deBtnActive() {
                    defaultBtn.click();
                }
                defaultBtn.addEventListener("change", function () {
                    if (defaultBtn.files && defaultBtn.files[0]) {
                        const reader = new FileReader();
                        reader.onload = function (e) {
                            document.getElementById('imgna').style.visibility = "visible";
                            document.getElementById('imgna').src = e.target.result;
                            wrapper.classList.add("active");
                        }
                        cancelBtn.addEventListener("click", function () {
                            document.getElementById('imgna').style.visibility = "hidden";
                            wrapper.classList.remove("active");
                        });
                        reader.readAsDataURL(defaultBtn.files[0]);
                    }
                    if (this.value) {
                        let valueStore = this.value.match(regExp);
                        filename.textContent = valueStore;
                    }
                });
            </script>
            
            
</body>

</html>